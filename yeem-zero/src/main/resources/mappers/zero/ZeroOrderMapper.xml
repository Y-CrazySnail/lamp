<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yeem.zero.mapper.ZeroOrderMapper">
    <select id="distribution" resultType="com.yeem.zero.entity.ZeroOrder">
        select
            zo.order_no,
            zo.user_id,
            zo.status,
            zo.direct_referrer_username,
            zo.indirect_referrer_username,
            zo.direct_bonus,
            zo.indirect_bonus
        from zero_order zo
        where distribution_flag = 1 and delete_flag != 1 and status = '5'
        and (direct_referrer_username = #{username} or indirect_referrer_username = #{username})
    </select>
</mapper>